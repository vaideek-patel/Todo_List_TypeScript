{"mappings":"AAOA,SAAS,gBAAgB,CAAC,oBAAoB;IAC5C,MAAM,OAAO,SAAS,aAAa,CAAmB;IACtD,MAAM,gBACJ,SAAS,aAAa,CAAmB;IAC3C,MAAM,OAAO,SAAS,aAAa,CAAkB;IACrD,MAAM,QAAQ,SAAS,aAAa,CAAmB;IACvD,IAAI,QAAgB;IACpB,MAAM,aAAa;IAEnB,MAAM,OAAO,CAAC;IAEd,MAAM,iBAAiB,UAAU,CAAC;QAChC,EAAE,cAAc;QAEhB,IAAI,CAAC,OAAO,OAAO;QAEnB,MAAM,UAAgB;YACpB,IAAI;YACJ,OAAO,MAAM,KAAK;YAClB,WAAW;YACX,WAAW,IAAI;QACjB;QAEA,MAAM,IAAI,CAAC;QACX,UAAU;QACV,YAAY;QACZ,MAAM,KAAK,GAAG;IAChB;IAEA,SAAS,YAAY,IAAU;QAC7B,MAAM,OAAO,SAAS,aAAa,CAAC;QACpC,MAAM,QAAQ,SAAS,aAAa,CAAC;QACrC,MAAM,WAAW,SAAS,aAAa,CAAC;QACxC,SAAS,IAAI,GAAG;QAChB,SAAS,OAAO,GAAG,KAAK,SAAS;QACjC,SAAS,gBAAgB,CAAC,UAAU;YAClC,IAAI,SAAS,OAAO,EAClB,WAAW;gBACT,KAAK,SAAS,GAAG,SAAS,OAAO;gBACjC,KAAK,MAAM;gBACX,QAAQ,MAAM,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,KAAK,EAAE;gBAC5C,UAAU;gBACV,iBAAiB;YACnB,GAAG;QAEP;QACA,MAAM,MAAM,CAAC,UAAU,KAAK,KAAK;QAEjC,MAAM,WAAW,SAAS,aAAa,CAAC;QACxC,SAAS,SAAS,GAAG;QACrB,SAAS,KAAK,CAAC,UAAU,GAAG;QAC5B,SAAS,gBAAgB,CAAC,SAAS;YACjC,IAAI,YAAY;gBACd,WAAW,KAAK,GAAG,KAAK,KAAK;gBAC7B,QAAQ,MAAM,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,KAAK,EAAE;gBAC5C,UAAU;gBACV,KAAK,MAAM;YACb;QACF;QAEA,MAAM,QAAQ,SAAS,cAAc,CAAC;QAEtC,KAAK,MAAM,CAAC,OAAO,OAAO,UAAU;QACpC,MAAM,OAAO;IACf;IAEA,SAAS,iBAAiB,IAAU;QAClC,MAAM,OAAO,SAAS,aAAa,CAAC;QACpC,KAAK,WAAW,GAAG,KAAK,KAAK;QAC7B,eAAe,OAAO;IACxB;AACF;AAEA,SAAS;IACP,OAAO,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG;AAC9C;AAEA,SAAS,UAAU,KAAa;IAC9B,aAAa,OAAO,CAAC,SAAS,KAAK,SAAS,CAAC;AAC/C;AAEA,SAAS;IACP,MAAM,WAAW,aAAa,OAAO,CAAC;IACtC,IAAI,aAAa,MAAM,OAAO,EAAE;IAChC,OAAO,KAAK,KAAK,CAAC;AACpB","sources":["src/index.ts"],"sourcesContent":["type Task = {\r\n  id: string;\r\n  title: string;\r\n  completed: boolean;\r\n  createdAt: Date;\r\n};\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  const list = document.querySelector<HTMLUListElement>(\"#list\");\r\n  const completedList =\r\n    document.querySelector<HTMLUListElement>(\"#completed-list\");\r\n  const form = document.querySelector<HTMLFormElement>(\"#new-task-form\");\r\n  const input = document.querySelector<HTMLInputElement>(\"#inputField\");\r\n  let tasks: Task[] = loadTasks();\r\n  const inputField = input;\r\n\r\n  tasks.forEach(addListItem);\r\n\r\n  form?.addEventListener(\"submit\", (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!input?.value) return;\r\n\r\n    const newTask: Task = {\r\n      id: generateID(),\r\n      title: input.value,\r\n      completed: false,\r\n      createdAt: new Date(),\r\n    };\r\n\r\n    tasks.push(newTask);\r\n    saveTasks(tasks);\r\n    addListItem(newTask);\r\n    input.value = \"\";\r\n  });\r\n\r\n  function addListItem(task: Task) {\r\n    const item = document.createElement(\"li\");\r\n    const label = document.createElement(\"label\");\r\n    const checkbox = document.createElement(\"input\");\r\n    checkbox.type = \"checkbox\";\r\n    checkbox.checked = task.completed;\r\n    checkbox.addEventListener(\"change\", () => {\r\n      if (checkbox.checked) {\r\n        setTimeout(() => {\r\n          task.completed = checkbox.checked;\r\n          item.remove();\r\n          tasks = tasks.filter((t) => t.id !== task.id);\r\n          saveTasks(tasks);\r\n          addCompletedTask(task);\r\n        }, 500);\r\n      }\r\n    });\r\n    label.append(checkbox, task.title);\r\n\r\n    const editIcon = document.createElement(\"i\");\r\n    editIcon.className = \"fas fa-edit\";\r\n    editIcon.style.marginLeft = \"50px\";\r\n    editIcon.addEventListener(\"click\", () => {\r\n      if (inputField) {\r\n        inputField.value = task.title;\r\n        tasks = tasks.filter((t) => t.id !== task.id);\r\n        saveTasks(tasks);\r\n        item.remove();\r\n      }\r\n    });\r\n\r\n    const space = document.createTextNode(\"\\u00A0\\u00A0\");\r\n\r\n    item.append(label, space, editIcon, space);\r\n    list?.append(item);\r\n  }\r\n\r\n  function addCompletedTask(task: Task) {\r\n    const item = document.createElement(\"li\");\r\n    item.textContent = task.title;\r\n    completedList?.append(item);\r\n  }\r\n});\r\n\r\nfunction generateID(): string {\r\n  return Math.random().toString(36).substr(2, 9);\r\n}\r\n\r\nfunction saveTasks(tasks: Task[]) {\r\n  localStorage.setItem(\"TASKS\", JSON.stringify(tasks));\r\n}\r\n\r\nfunction loadTasks(): Task[] {\r\n  const taskJson = localStorage.getItem(\"TASKS\");\r\n  if (taskJson === null) return [];\r\n  return JSON.parse(taskJson);\r\n}\r\n"],"names":[],"version":3,"file":"index.377278e2.js.map","sourceRoot":"/__parcel_source_root/"}